# 总结一下 数据模型和魔法方法的小结

通过视线特殊的方法，自定义的数据类型就能表现的和内置类型一样，
这就帮助我们写出更具表达力的风格的代码，也就是更加具有Python风格的代码。

Python对象的一个基本要求就是他要有合理的字符串的表现形式。我们可以通过__repr__和__str__方法
来满足这个需求，前者更方便我们调试和记录日志，而后者则是给终端用户看的，

对序列的数据类型模拟是特殊方法用的最多的地方，这一点我们在「Python风格的纸牌」中有所展示

总之，我们还是会在之后的章节里介绍和使用更多的魔法方法

#### magic and dunder

- 特殊方法也叫双下方法（ dunder method）

- ```python
  import collections
  Card = collections.namedtuple('Card', ['rank', 'suit'])
  class FrenchDeck:
  	ranks = [str(n) for n in range(2, 11)] + list('JQKA')
  	suits = 'spades diamonds clubs hearts'.split()
  	def __init__(self):
  self._cards = [Card(rank, suit) for suit in self.suits
  	for rank in self.ranks]
  	def __len__(self):
  		return len(self._cards)
  	def __getitem__(self, position):
  		return self._cards[position]
  ```

#### 自定义的布尔值

- 默认情况下， 我们自己定义的类的实例总被认为是真的， 除非这个类对
  __bool__ 或者 __len__ 函数有自己的实现。 bool(x) 的背后是调用
  x.__bool__() 的结果； 如果不存在 __bool__ 方法， 那么 bool(x) 会
  尝试调用 x.__len__()。 若返回 0， 则 bool 会返回 False； 否则返回
  True。

